---
import type { LocalImageProps, RemoteImageProps } from "astro:assets";
import { Image } from "astro:assets";
import type { SetNonNullable, SetOptional } from "type-fest";

export type Props = OptionalDensities & ImageProps;

type ImageProps = LocalImageProps | RemoteImageProps;

type WithDensities = SetNonNullable<ImageProps, "densities">;
type OptionalDensities = SetOptional<WithDensities, "densities">;

const props = {
  densities: [1.5, 2],
  ...Astro.props,
} as ImageProps;
---

<Image {...props} />
